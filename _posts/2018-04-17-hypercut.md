---
layout: post
title: HyperCut으로 인물사진 필터를 만들었습니다
date: 2018-04-30
author: dgoon
published: true
excerpt: 하이퍼커넥트의 모바일 딥러닝 기술 중 하나인 HyperCut을 소개합니다
tags: machine-learning hypercut
---
얼마전 하이퍼커넥트의 아이디어 제안 채널에서 나온 이야기입니다.

![Mel-Suggestion]({{ "/assets/mel_suggestion.png" | absolute_url }})

*mel* 은 사업그룹의 터키지역 담당 팀에 있는 친구인데, 꾸준히 좋은 제안과 아이디어를 주는 훌륭한 동료입니다. 이번에는 최근 여러 스마트폰이나 사진 앱들에서 나타나기 시작한 *인물사진 모드* 를 아자르에서도 지원하는게 좋겠다는 제안이었습니다.

스마트폰이 자체 기능으로 인물사진 필터를 제공하는 경우는 보통 듀얼 카메라를 사용해 인물 외의 배경을 흐릿하게 만들어 심도를 표현합니다. 하지만 모두가 듀얼 카메라를 탑재한 스마트폰을 쓰는 것은 아니기 때문에, 이런 인물사진 모드를 소프트웨어적으로 구현하는 앱들도 존재합니다. *mel* 이 보여준 링크의 인스타그램도 그렇게 구현했네요.

인물사진 모드를 소프트웨어적으로 구현하려면, 영상에서 얼굴을 포함한 사람을 배경으로부터 정확히 분리해 내는 기술이 필요합니다. 그리고 사진을 찍을 때에 실시간으로 프리뷰를 보아야 할테니까 이것을 실시간으로 처리할 수 있을 정도의 성능도 필요하구요.

하이퍼커넥트에서는 머신러닝, 특히 영상과 이미지를 다루는 분야에 대해 지속적으로 투자와 연구를 해 왔습니다. 영상에서 인물을 분리해내는 문제는 크게 [Image Segmentation](https://en.wikipedia.org/wiki/Image_segmentation) 의 범주에 속합니다. 좀 더 직접적으로 [Portrait segmentation](http://xiaoyongshen.me/webpage_portrait/index.html) 이라고 부를 수도 있습니다. 이를 잘 하기 위해서 하이퍼커넥트에서는 자체적인 학습 데이터를 만드는 것부터 시작하여 기술 개발을 지속적으로 추진해 왔고, 그 결과 Machine Learning 팀에서 이미 실시간으로 얼굴과 배경을 분리해내는 - [HyperCut](https://hyperconnect.com/tech/ml/) - 이라는 기술을 확보한 상태입니다. 아직 실제 서비스에 탑재되진 않았지만 이미 하이퍼커넥트의 주요 서비스인 아자르의 개발 버전에서는 HyperCut을 응용한 여러가지 이펙트를 사용할 수가 있습니다. 그리고, 그 중에 인물사진 모드 필터도 이미 있습니다.

*mel* 의 제안이 있던 날 오후 아이디어 제안 채널에 이런 답이 달렸습니다.

![Ken in Azar-PortraitFilter ]({{ "/assets/ken_portrait_filter.png" | absolute_url }})

모델이 되어 주신 분은 하이퍼커넥트의 CTO 인 *ken* 이네요. 아자르 개발 버전에서 HyperCut 을 응용한 인물사진모드 필터를 사용하고 찍은 사진입니다. 아자르의 저장하기 기능을 사용했더니 UI 없이 오른쪽 아래에 아자르 로고만 남게 되었네요. 아직 실서비스에는 포함되지 않았지만, 최적화와 튜닝 과정을 거쳐 조만간 많은 사용자들이 HyperCut 을 사용한 이펙트를 쓸 수 있게 될 예정입니다.
